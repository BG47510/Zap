name: recup


on:
# L’événement schedule permet de déclencher un workflow à une heure planifiée.
  schedule:
# 30 */4 signifie que la commande sera lancée toutes les 4 heures á la 6 ème minute.
    - cron:  '30 */4 * * *'

   # Vous permet d'exécuter ce workflow manuellement à partir de l'onglet Actions.
  workflow_dispatch:

jobs:
  build:
  
   runs-on: ubuntu-latest
   strategy:
     matrix:
      python-version: ["3.10"]

   steps:
      
      - uses: actions/checkout@v3
      - name: Set up Python ${{ matrix.python-version }}
        uses: actions/setup-python@v4
        with:
         python-version: ${{ matrix.python-version }}
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install ruff
      # Include `--format=github` to enable automatic inline annotations.
      - name: Run Ruff
        run: ruff check --format=github .

      - name: Check out repository
        uses: actions/checkout@v3
      - name: Use local my-action
        uses: ./.github/Zap/sources

   
      - name: actualisation execute
        run: |
           ./sources/execute.py




